{% extends "base.html" %}
{% block title %}Manage Genres{% endblock %}
{% block content %}
    <h1>Manage Genres</h1>
    <form method="POST" action="{{ url_for('admin_manage_genres', admin_key=admin_key) }}">
        <label for="genre_name">Add New Genre:</label>
        <input type="text" name="genre_name" id="genre_name" required>
        <button type="submit" name="add_genre" class="btn btn-primary">Add Genre</button>
    </form>
    <br>
    <h2>Existing Genres</h2>
    <ul>
        {% for genre in genres %}
            <li>
                {{ genre.name }}
                <form method="POST" action="{{ url_for('admin_manage_genres', admin_key=admin_key) }}" style="display:inline;">
                    <button type="submit" name="delete_genre" value="{{ genre.gen_id }}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this genre? This action cannot be undone.');">Delete</button>
                </form>
            </li>
            <br>
        {% endfor %}
    </ul>
{% endblock %}